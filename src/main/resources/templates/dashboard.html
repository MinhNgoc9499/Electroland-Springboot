<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org" th:replace="~{/fragments/Layout_Admin::dynamic(~{::body},~{::title})}">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Admin</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel='stylesheet' type='text/css' media='screen' href='CSS/dashboard.css'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="shortcut icon" type="image/png" th:href="@{/IMG/logoxanh.png}">
</head>
<body>
    <div class="col-10">
<!-- dashboard-content -->
    <div class="dashboard-content">
        <div class="dashboard-header">
            <div>
            <h1>T·ªïng quan</h1>
            <p>Xin ch√†o, Samantha. Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Sedap Admin!</p>
        </div>
        <div class=row>
<div class= "col-sm-6">
    <!-- Form ch·ªçn th√°ng -->
    <form method="get" th:action="@{/report}">
        <label for="month">Ch·ªçn th√°ng:</label>
        <select name="month" id="month" class="form-control" style="width: 150px;">
            <option value="1" th:selected="${currentMonth == 1}">Th√°ng 1</option>
            <option value="2" th:selected="${currentMonth == 2}">Th√°ng 2</option>
            <option value="3" th:selected="${currentMonth == 3}">Th√°ng 3</option>
            <option value="4" th:selected="${currentMonth == 4}">Th√°ng 4</option>
            <option value="5" th:selected="${currentMonth == 5}">Th√°ng 5</option>
            <option value="6" th:selected="${currentMonth == 6}">Th√°ng 6</option>
            <option value="7" th:selected="${currentMonth == 7}">Th√°ng 7</option>
            <option value="8" th:selected="${currentMonth == 8}">Th√°ng 8</option>
            <option value="9" th:selected="${currentMonth == 9}">Th√°ng 9</option>
            <option value="10" th:selected="${currentMonth == 10}">Th√°ng 10</option>
            <option value="11" th:selected="${currentMonth == 11}">Th√°ng 11</option>
            <option value="12" th:selected="${currentMonth == 12}">Th√°ng 12</option>
        </select>
        <button type="submit" class="btn btn-primary mt-3">Xem b√°o c√°o</button>
    </div>
    <div class="col-sm-6">
    <!-- C√°c n·ªôi dung kh√°c -->
    <div class="col-md-12 text-end">
      <div>
        <a th:href="@{/report/export(month=${currentMonth})}" class="btn btn-primary">Xu·∫•t b√°o c√°o</a>
    </div>
</div>
    </form>
    </div>
</div>

    
        </div>
        <div class="top-cards">
            <div class="card">
                <div class="icon1">üìä</div>
                <div class="info">
                    <div class="number">75</div>
                    <div class="description">T·ªïng ƒë∆°n h√†ng</div>
                    <div class="growth">4% (1 th√°ng)</div>
                </div>
            </div>
            
            <div class="card"> <!-- Card 2 -->
                <div class="icon1">üìä</div>
                <div class="info">
                    <div class="number">357</div>
                    <div class="description">Giao d·ªãch th√†nh c√¥ng</div>
                    <div class="growth">4% (1 th√°ng)</div>
                </div>
            </div>
            <div class="card"> <!-- Card 3 -->
                <div class="icon1">üìä</div>
                <div class="info">
                    <div class="number">65</div>
                    <div class="description">ƒê∆°n b·ªã h·ªßy</div>
                    <div class="growth">25% (1 th√°ng)</div>
                </div>
            </div>
            <div class="card"> <!-- Card 4 -->
                <div class="icon1">üìä</div>
                <div class="info">
                    <div class="number">$128</div>
                    <div class="description">T·ªïng doanh thu</div>
                    <div class="growth">12% (1 th√°ng)</div>
                </div>
            </div>
        </div>
        <div class="charts-section">
             <!-- charts h√¨nh ƒë∆∞·ªùng -->
            <div class="order-chart p-5">
                <h4>Chart ƒë∆°n haÃÄng</h4>
                <canvas id="lineChart"></canvas>
            </div>
            <div class="customer-map-chart p-5">
                <h4>KhaÃÅch haÃÄng ƒëƒÉng kyÃÅ m∆°ÃÅi</h4>
                <canvas id="customerMapChart" width="400" height="200"></canvas>
            </div>
        </div>
        <div class="revenue-customer-charts">
             <!-- charts t·ªïng doanh thu -->
            <div class="revenue-chart p-5">
                <h4>T·ªïng Doanh Thu</h4>
                <canvas id="revenueChart" width="400" height="200"></canvas>
            </div>
               <!-- charts customer -->

        </div> 
    </div>
    <!-- dashboard-content -->
    
</div>
    <script src="https://kit.fontawesome.com/b6b15d6477.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script th:src="@{/JS/dashboard.js}"></script>
    <script>
        // Line Chart Data for Orders
        const lineChartData = {
            labels: ['QuyÃÅ 1', 'QuyÃÅ 2', 'QuyÃÅ 3', 'QuyÃÅ 4'],
            datasets: [{
                label: 'S·ªë l∆∞·ª£ng ƒë∆°n h√†ng',
                data: [200, 300, 450, 400],
                borderColor: '#3399ff',
                fill: true,
                backgroundColor: 'rgba(51, 153, 255, 0.2)',
                pointBackgroundColor: '#3399ff'
            }]
        };
    
        // Render Line Chart for Orders
        new Chart(document.getElementById('lineChart'), {
            type: 'line',
            data: lineChartData,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    
        // Revenue Chart Data
        const revenueChartData = {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [
                {
                    label: '2020',
                    data: [12000, 19000, 30000, 50000, 40000, 60000, 50000, 70000, 80000, 90000, 65000, 72000],
                    borderColor: 'red',
                    fill: false,
                },
                {
                    label: '2023',
                    data: [15000, 22000, 35000, 45000, 55000, 40000, 48000, 60000, 75000, 80000, 90000, 105000],
                    borderColor: 'blue',
                    fill: false,
                }
            ]
        };
    
        // Render Revenue Chart
        new Chart(document.getElementById('revenueChart'), {
            type: 'line',
            data: revenueChartData,
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    
        // Customer Map Chart Data
        const customerMapData = {
            labels: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            datasets: [{
                label: 'Customers',
                data: [61, 80, 40, 65, 60, 20, 60],
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        };
    
        // Render Customer Map Chart
        new Chart(document.getElementById('customerMapChart'), {
            type: 'bar',
            data: customerMapData,
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</body>
</html>
